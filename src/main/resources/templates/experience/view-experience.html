<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <title th:text="${experience.title}">Experience Title</title>
</head>

<body>
<main class="container">
    <div class="row">
        <h1 class="col mb-4" th:text="${experience.title}">Experience Title</h1>
    </div>

    <div class="row">
        <p class="col mb-2">
            <i class="bi bi-pin-map"></i>
            <span th:text="${location}">123 Fake St. City, State Country</span>
        </p>
    </div>

    <div class="row">
        <p class="col mb-2">
            <i class="bi bi-calendar-date"></i>
            <span th:text="${#temporals.format(experience.eventDate)}">January 1, 2025</span>
        </p>
    </div>

    <div class="row">
        <p class="col mb-2">
            <i class="bi bi-star"></i>
            <span th:if="${experience.ratingCnt == 0}">No ratings</span>
            <span th:if="${experience.ratingCnt > 0}" th:text="${rating}">4.67 / 5.0</span>
            <span th:if="${experience.ratingCnt == 1}" style="font-size: 0.75rem"> (1 rating)</span>
            <span th:if="${experience.ratingCnt > 1}" style="font-size: 0.75rem"
                  th:text="${' (' + experience.ratingCnt + ' ratings)'}"> (5 ratings)</span>
        </p>
    </div>

    <div class="row">
        <p class="col mb-4">
            <i class="bi bi-person"></i>
            <span th:text="${'Submitted by ' + author + ' ' + submittedDuration + ' ago'}">Submitted by username 5 days ago</span>
        </p>
    </div>

    <ul class="nav nav-tabs border-0" role="tablist" style="margin-bottom: 1px">
        <li th:if="${experience.imageUrl}" class="nav-item" role="presentation">
            <button class="nav-link active" id="image-tab" data-bs-toggle="tab" data-bs-target="#image-tab-pane"
                    type="button" role="tab" aria-controls="image-tab-pane" aria-selected="true">Image
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button th:classappend="${experience.imageUrl == null ? 'active' : ''}" class="nav-link" id="map-tab"
                    data-bs-toggle="tab" data-bs-target="#map-tab-pane" type="button"
                    role="tab" aria-controls="map-tab-pane" aria-selected="false">Map
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="street-view-tab" data-bs-toggle="tab" data-bs-target="#street-view-tab-pane"
                    type="button" role="tab" aria-controls="street-view-tab-pane" aria-selected="false">Street View
            </button>
        </li>
    </ul>

    <div class="tab-content overflow-hidden mb-4" style="height: 50vh">
        <div th:if="${experience.imageUrl}" class="tab-pane w-100 h-100 bg-black fade show active" id="image-tab-pane"
             role="tabpanel" aria-labelledby="image-tab" tabindex="0">
            <div class="w-100 h-100 d-flex justify-content-center align-items-center">
                <img class="mw-100 mh-100 object-fit-contain" th:src="${experience.imageUrl}" alt="Image"
                     th:onerror="|this.src='@{/images/fallback-picture.png}'; this.onerror='';|"
                     src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Hollywood_Sign_%28Zuschnitt%29.jpg/2560px-Hollywood_Sign_%28Zuschnitt%29.jpg">
            </div>
        </div>
        <div th:classappend="${experience.imageUrl == null ? 'show active' : ''}" class="tab-pane w-100 h-100 fade"
             id="map-tab-pane" role="tabpanel" aria-labelledby="map-tab" tabindex="0">
            <iframe
                    class="w-100 h-100"
                    referrerpolicy="no-referrer-when-downgrade"
                    th:src="${mapUrl}"
                    src="https://www.google.com/maps/embed/v1/view?key=AIzaSyDuFGE39oMheD0Y3071eSpRdA8ib4F5OFw&center=33.985778,-118.472896&zoom=19">
            </iframe>
        </div>
        <div class="tab-pane w-100 h-100 fade" id="street-view-tab-pane" role="tabpanel"
             aria-labelledby="street-view-tab" tabindex="0">
            <iframe
                    class="w-100 h-100"
                    referrerpolicy="no-referrer-when-downgrade"
                    th:src="${streetViewUrl}"
                    src="https://www.google.com/maps/embed/v1/streetview?key=AIzaSyDuFGE39oMheD0Y3071eSpRdA8ib4F5OFw&location=33.985778,-118.472896">
            </iframe>
        </div>
    </div>

    <div class="row" th:if="${experience.description}">
        <p class="col" th:text="${experience.description}" style="white-space: pre-wrap">Description</p>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>
